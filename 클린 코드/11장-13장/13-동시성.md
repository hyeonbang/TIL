### 13장 동시성

- 동시성이 필요한 이유

  무엇 *what*과 언제 *when*을 분리하는 전략으로 결합을 없애는 전략이다.

- 동시성에 대한 오해와 진실
    - 오해
        - 항상 성능을 높여준다 ⇒ 때로는 성능을 높여준다.
        - 동시성을 구현해도 설계는 변하지 않는다 ⇒ 완전 다름
        - 웹, EJB 컨테이너를 이용하면 동시성을 이해하지 않아도 된다 ⇒ 아님
    - 진실
        - 다소 부하를 유발한다.
        - 복잡하다.
        - 버그를 재현하기 어렵다.
        - 근본적인 설계 전략을 깊게 고려해야한다.
- 동시성을 구현하기 어려운 이유

  스레드가 늘어날 수록 같은 매서드를 실행하는 잠재적 경로가 엄청나게 늘어난다.

  이 중 일부 잘못된 결과를 내놓는 경로가 존재한다.

  이 잘못된 경로를 캐치하기가 어렵다.

- 동시성으로 인한 문제 예방 및 대응 방법
    - 동시성 코드와 다른 코드를 분리하기
    - 자료를 캡슐화하고 공유 자료를 줄이기
    - 언어가 제공하는 클래스를 검토하고 이해하기
    - 실행 모델을 이해하고 기본 알고리즘과 해법을 이해하기
    - 공유 객체 하나에 매서드 하나만 이용하기
    - 동기화 하는 부분은 최대한 작게 만들기
    - 종료 코드는 많은 고민과 검토를 거쳐서 작성하기
    - 문제를 노출하는 테스트 케이스를 작성하기
    - 시스템이 실패한 경우 일회성이라고 단정짓지 않기
    - 스레드 환경 내부와 외부에 생기는 버그를 동시에 디버깅하지 않기
    - 다양한 설정과 환경에 넣을 수 있도록 독립적으로 코드를 구현하기
    - 모든 목표 플랫폼에서 처음부터, 자주 코드를 돌려보기
    - 좋은 테스트 케이스와 코드 흔들기를 통해 오류를 찾아내기

### 느낀점 (11장-13장)
이번 범위는 자바와 관련이 깊은 이야기들을 많이하는 내용이라 접근하기 어려운 개념들이 많이 있었다. 그래도 OOP를 지향하고 있는 나로써는 도움이 될 만한 것들을 건지기 위해서 이 개념 저 개념 많이 찾아다녀보았다. 모르면서도 어려운 내용을 접하려니 졸리기도 하고 집중도 현저하게 떨어졌지만 그래도 끝까지 붙잡고 한자한자 잘 읽어보려고 노력했다.. 나 자신 다 읽은 걸로도 칭찬해..