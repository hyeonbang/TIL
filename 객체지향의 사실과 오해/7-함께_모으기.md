# 함께 모으기

### 객체지향 설계에 필요한 관점

동일한 클래스를 아래 세가지 관점으로 바라보는 것으로 설계의 다양한 측면에 대해 알 수 있고, 클래스를 이 세가지 관점으로 명확하게 볼 수 있다면 훌륭한 설계를 뒷받침 해야한다.

- 개념 관점 *Conceptual Perspective*
    - 도메인 내 존재하는 개념 간의 관계를 표현한 것
    - 사용자가 도메인을 바라보는 관점을 반영한 것
    - 실제 도메인 규칙과 제약을 최대한 유사하게 반영하는 것이 핵심
- 명세 관점 *Specification Perspective*
    - 소프트웨어 속 객체들의 책임, 즉 **인터페이스**에 초점을 맞춘 것
    - 객체가 협력을 위해 **무엇**을 할 수 있는 가에 초점을 맞춘 것
    - 구현과 인터페이스는 명확히 분리해야 한다.
- 구현 관점 *Implementation Perspective*
    - 실제 작업을 수행하는 코드
    - 객체의 책임을 **어떻게** 수행할 것인가에 초점을 맞춘 것

### 커피 전문점 도메인

- 객체
    - 손님 객체
    - 메뉴판 객체
    - 메뉴 항목 객체
    - 바리스타 객체
    - 커피 객체
- 객체간의 관계
    - 포함 관계 *Containment* / 합성 관계 *Composition*
        - 메뉴 항목 객체는 메뉴판 객체에 완전하게 포함된다.
    - 연관 관계 *Association*
        - 메뉴판 객체는 손님 객체와 단순한 연결이 있다.
        - 바리스타 객체는 커피 객체와 단순한 연결이 있다.
        - 손님 객체와 바리스타 객체는 연결이 있다.
- 메시지를 토대로 한 설계와 구현

  필요한 메시지를 생각한 후 이에 적합한 객체를 찾아 책임을 할당한다.

    - 메시지 1 - 커피를 주문하라 (메뉴이름)

      필요한 객체: 손님 객체

    - 메시지 2 - 메뉴 항목을 찾아라 (메뉴이름)

      필요한 객체: 손님 객체 —  메뉴 항목 객체

    - 메시지 3 - 커피를 제조하라 (메뉴 항목)

      필요한 객체: 손님 객체 — 바리스타 객체

    - 메시지 4 - 커피를 생성하라

      필요한 객체: 바리스타 객체 — 커피 객체

    - 메시지를 통해 각 객체들에 필요한 책임에 대해 인터페이스를 추릴 수 있다.
    - 이를 토대로 코드로 구현한다.

### 코드의 세가지 관점

- 개념 관점
    - 소프트웨어 클래스와 도메인 클래스 사이의 간격이 좁을수록 기능 변경을 위해 뒤적거리는 코드의 양도 줄어든다.
- 명세 관점
    - public 접근자를 통해 공용 인터페이스로 외부 객체들이 참조할 수 있게 하고,
    - 구현과 관련된 세부 사항은 드러나지 않도록 해야한다.
- 구현 관점
    - 외부 객체가 클래스 내부에 영향을 절대 끼칠 수 없게 하고 캡슐화 되어야 한다.

> **도메인 개념을 참조하는 것이란 ?**  
도메인에 대한 지식을 기반으로 코드의 구조와 의미를 쉽게 유추하여 유지보수를 편하게 하기 함이다.

> **인터페이스와 구현은 철저히 분리하는 것이란 ?**  
변하는 소프트웨어에 편리하게 대응하기 위해 인터페이스와 구현을 철저히 분리하고, 설계를 주도하는 것은 인터페이스가 되어야 한다.

### 느낀점
객체를 바라보는 세가지 다른 관점은 설계를 잘 하였는지 스스로 점검 해볼 수 있는 좋은 지표인 것 같다.

세가지 관점을 설명하면서 마지막 코드로 구현하는 것까지 서사가 잘 짜여진 책인 것 같다.

작가가 객체지향의 본질에 대해 얼마나 잘 이해시키고 싶었는지 알 수 있는 책이었고, 그에 대해 작가가 말하고자 하는 객체지향이란 무엇인가에 대해 한층 더 잘 설명할 수 있을 것 같다는 생각에 뿌듯한 기분이 든다.